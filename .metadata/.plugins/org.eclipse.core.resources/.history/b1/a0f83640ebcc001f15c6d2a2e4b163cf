
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.util.Scanner;

public class Insert {
    public static void main(String[] args) {
        // MySQL 접속 정보
        String url = "jdbc:mysql://localhost:3306/spring";  // your_database_name을 실제 데이터베이스 이름으로 바꿔주세요.
        String uid = "spring";  // MySQL 사용자명
        String upw = "spring";  // MySQL 비밀번호

        Scanner sc = new Scanner(System.in);

        System.out.println("아이디 >");
        String id = sc.next();
        System.out.println("비번 >");
        String pw = sc.next();
        System.out.println("나이 >");
        int age = sc.nextInt();
        System.out.println("이메일 >");
        String email = sc.next();

        String sql = "SELECT * FROM MEMO";

        Connection conn = null;
        PreparedStatement pstmt = null;

        try {
            // MySQL JDBC 드라이버 로드
            Class.forName("com.mysql.cj.jdbc.Driver");
            // MySQL 데이터베이스 연결
            conn = DriverManager.getConnection(url, uid, upw);
            pstmt = conn.prepareStatement(sql);
            
            // 쿼리 파라미터 설정
            pstmt.setString(1, id);
            pstmt.setString(2, pw);
            pstmt.setInt(3, age);
            pstmt.setString(4, email);

            // SQL 실행
            int result = pstmt.executeUpdate();

            // 실행 결과에 따른 출력
            if (result == 1) {
                System.out.println("인서트 성공");
            } else {
                System.out.println("인서트 실패");
            }
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            // 리소스 해제
            try {
                if (pstmt != null) pstmt.close();
                if (conn != null) conn.close();
            } catch (Exception e2) {
                e2.printStackTrace();
            }
        }
    }
}
